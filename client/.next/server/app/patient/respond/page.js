(()=>{var e={};e.id=129,e.ids=[129],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},9606:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c}),r(9020),r(4752),r(5866);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["patient",{children:["respond",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9020)),"C:\\Users\\lenovo\\Desktop\\caresync\\client\\app\\patient\\respond\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4752)),"C:\\Users\\lenovo\\Desktop\\caresync\\client\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\lenovo\\Desktop\\caresync\\client\\app\\patient\\respond\\page.tsx"],d="/patient/respond/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/patient/respond/page",pathname:"/patient/respond",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8937:(e,t,r)=>{Promise.resolve().then(r.bind(r,8143))},4416:(e,t,r)=>{Promise.resolve().then(r.bind(r,115))},1266:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},115:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(326),a=r(7577),n=r(5047),i=r(4659),l=r(7427);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r(6557).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var c=r(127);let u=()=>{let[e]=(0,n.useSearchParams)(),[t,r]=(0,a.useState)(null),[u,d]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),[v,j]=(0,a.useState)("");(0,a.useEffect)(()=>{let t=e.get("reminder_id");t&&(r(t),w(t))},[e]);let w=async e=>{try{y(!0),j("");let t=await fetch(`http://localhost:5000/api/responses/reminder/${e}`);if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.error||"Failed to load reminder details")}let r=await t.json();d(r.patient?.name||"Patient"),h(r.message||"")}catch(e){j("Failed to load reminder details")}finally{y(!1)}},N=async e=>{if(e.preventDefault(),!m.trim()){j("Please provide a response");return}y(!0),j("");try{let e=await fetch("http://localhost:5000/api/responses/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reminder_id:t,response_text:m})});if(e.ok)b(!0);else{let t=await e.json();j(t.error||"Failed to submit response")}}catch(e){j("Failed to submit response. Please try again.")}finally{y(!1)}};return f?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full text-center",children:[s.jsx("div",{className:"mx-auto h-16 w-16 bg-green-500 rounded-full flex items-center justify-center mb-6",children:s.jsx(i.Z,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Thank You!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your response has been submitted successfully. Your healthcare provider will review it and contact you if needed."}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:s.jsx("p",{className:"text-sm text-gray-500",children:"If you have any urgent concerns, please contact your healthcare provider directly."})})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-2xl flex items-center justify-center",children:s.jsx(l.Z,{className:"h-8 w-8 text-white"})}),(0,s.jsxs)("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:["CareSync AI Follow-up ",u?`for ${u}`:""]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please respond to your healthcare provider's follow-up"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[p&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-400",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Follow-up Message:"}),s.jsx("p",{className:"text-sm text-blue-700",children:p})]}),(0,s.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"response",className:"label",children:"Your Response"}),s.jsx("textarea",{id:"response",name:"response",rows:6,required:!0,className:"input-field resize-none",placeholder:"Please describe how you're feeling, any symptoms you're experiencing, or any concerns you may have...",value:m,onChange:e=>x(e.target.value)}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Be as detailed as possible. Your response will be analyzed by AI to help your healthcare provider understand your condition."})]}),v&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600",children:v})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:g||!m.trim(),className:"w-full btn-primary flex items-center justify-center",children:g?s.jsx(c.Z,{size:"sm"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(o,{className:"h-4 w-4 mr-2"}),"Submit Response"]})})})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Privacy Notice:"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Your response is secure and will only be shared with your healthcare provider. AI analysis helps categorize your response for better care coordination."})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-gray-600",children:"Powered by CareSync AI - Intelligent Healthcare Follow-up"})})]})})};function d(){return s.jsx(a.Suspense,{fallback:s.jsx("div",{children:"Loading..."}),children:s.jsx(u,{})})}},8143:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(326),a=r(381),n=r(8078),i=r(9891);function l({children:e}){return s.jsx(n.FV,{children:(0,s.jsxs)(i.H,{children:[e,s.jsx(a.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}},6557:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(7577),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:u,...d},p)=>(0,s.createElement)("svg",{ref:p,...a,width:i,height:i,stroke:r,strokeWidth:o?24*Number(l)/Number(i):l,className:["lucide",`lucide-${n(e)}`,c].join(" "),...d},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r}},4659:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7427:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6557).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},5047:(e,t,r)=>{"use strict";var s=r(7389);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},127:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(326);r(7577);let a=({size:e="md",className:t=""})=>s.jsx("div",{className:`flex items-center justify-center ${t}`,children:s.jsx("div",{className:`loading-spinner ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[e]}`})})},9891:(e,t,r)=>{"use strict";r.d(t,{H:()=>c,a:()=>o});var s=r(326),a=r(7577),n=r(8078),i=r(381);let l=(0,a.createContext)(),o=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},c=({children:e})=>{let{supabase:t}=(0,n.$4)(),[r,o]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),[d,p]=(0,a.useState)(!0),h=(0,a.useRef)(!0),m=(...e)=>{},x=(0,a.useCallback)(async()=>{try{let{data:{session:e},error:r}=await t.auth.getSession();if(r){m("⚠️ getSession error:",r);return}if(!e?.access_token){m("⚠️ No Supabase access token found for fetching clinic data.");return}let s=await fetch("http://localhost:5000/api/auth/profile",{headers:{Authorization:`Bearer ${e.access_token}`}});if(!h.current)return;if(s.ok){let e=await s.json();if(!h.current)return;u(e.clinic)}else{let e=await s.text();if(console.error("❌ Failed to fetch clinic data:",e),!h.current)return;u(null)}}catch(e){if(console.error("\uD83D\uDD25 Error fetching clinic data:",e),!h.current)return;u(null)}},[t]);(0,a.useEffect)(()=>{h.current=!0,p(!0),(async()=>{try{let{data:{session:e},error:r}=await t.auth.getSession();if(r&&m("⚠️ getSession error:",r),!h.current)return;let s=e?.user??null;o(s),s?await x():u(null)}catch(e){console.error("\uD83D\uDD25 Error during session init:",e)}finally{}})();let e=setTimeout(()=>{h.current&&p(!1)},1500),{data:{subscription:r}}=t.auth.onAuthStateChange(async(t,r)=>{if(m("\uD83D\uDD04 Auth state changed:",t),!h.current)return;let s=r?.user??null;switch(o(s),t){case"SIGNED_IN":case"INITIAL_SESSION":case"TOKEN_REFRESHED":case"USER_UPDATED":s&&await x();break;case"SIGNED_OUT":u(null)}p(!1),clearTimeout(e)});return()=>{m("\uD83E\uDDF9 Cleaning up auth listener"),h.current=!1,clearTimeout(e),r?.unsubscribe?.()}},[t,x]);let g=async(e,t,r)=>{try{let s=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,...r})}),a=await s.json();if(s.ok)return i.ZP.success("Registration successful! Please verify your email."),{success:!0,data:a};return i.ZP.error(a.error||"Registration failed"),{success:!1,error:a.error}}catch(e){return console.error("❌ Sign-up error:",e),i.ZP.error("Registration failed. Please try again."),{success:!1,error:e.message}}},y=async(e,r)=>{let{error:s}=await t.auth.signInWithPassword({email:e,password:r});return s?(i.ZP.error(s.message),{success:!1,error:s.message}):(i.ZP.success("Login successful!"),{success:!0})},f=async()=>{let{error:e}=await t.auth.signOut();return e?(i.ZP.error("Logout failed"),console.error("❌ Sign-out error:",e),{success:!1}):(i.ZP.success("Logged out successfully"),{success:!0})};return s.jsx(l.Provider,{value:{user:r,clinic:c,loading:d,signUp:g,signIn:y,signOut:f},children:e})}},8078:(e,t,r)=>{"use strict";r.d(t,{$4:()=>d,FV:()=>p});var s=r(326),a=r(7577),n=r(3815);let i="https://phoumeccawrtsjztxldi.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBob3VtZWNjYXdydHNqenR4bGRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNDEyNTcsImV4cCI6MjA3NTkxNzI1N30.xMGO_scepJgrqhF318DZuXQwuVcZR47AMS81wFwcQA0";i&&i.startsWith("https://"),l&&l.split(".").length;let o=i&&l?(0,n.eI)(i,l):null,c={supabase:o},u=(0,a.createContext)(),d=()=>{let e=(0,a.useContext)(u);if(!e)throw Error("useSupabase must be used within a SupabaseProvider");return e},p=({children:e})=>{if(!o){let e=[];i||e.push("NEXT_PUBLIC_SUPABASE_URL"),l||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY");let t=e=>"string"==typeof e?`${e.slice(0,6)}...${e.slice(-4)}`:"";return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-lg w-full bg-red-50 border border-red-200 rounded-md p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Configuration error"}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Missing required environment variables. Update client/.env.local and restart the dev server."}),(0,s.jsxs)("ul",{className:"text-sm text-red-700 list-disc pl-5 space-y-1",children:[!i&&s.jsx("li",{children:"REACT_APP_SUPABASE_URL is missing"}),!l&&s.jsx("li",{children:"REACT_APP_SUPABASE_ANON_KEY is missing"})]}),(0,s.jsxs)("div",{className:"mt-4 text-xs text-red-700",children:[s.jsx("div",{children:"Current values (masked):"}),(0,s.jsxs)("div",{children:["URL: ",i?t(i):"(not set)"]}),(0,s.jsxs)("div",{children:["Anon Key: ",l?t(l):"(not set)"]})]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reload App"})]})})}return s.jsx(u.Provider,{value:c,children:e})}},4752:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var s=r(9510);r(7272);var a=r(8570);let n=(0,a.createProxy)(String.raw`C:\Users\lenovo\Desktop\caresync\client\app\providers.tsx`),{__esModule:i,$$typeof:l}=n;n.default;let o=(0,a.createProxy)(String.raw`C:\Users\lenovo\Desktop\caresync\client\app\providers.tsx#default`),c={title:"CareSync Ai",description:"CareSyncAi - Patient Follow-up Reminder & Insight Assistant"};function u({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:s.jsx(o,{children:e})})})}},9020:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var s=r(8570);let a=(0,s.createProxy)(String.raw`C:\Users\lenovo\Desktop\caresync\client\app\patient\respond\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,s.createProxy)(String.raw`C:\Users\lenovo\Desktop\caresync\client\app\patient\respond\page.tsx#default`)},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[629],()=>r(9606));module.exports=s})();