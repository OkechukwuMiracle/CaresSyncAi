exports.id=583,exports.ids=[583],exports.modules={8937:(e,t,r)=>{Promise.resolve().then(r.bind(r,8143))},1266:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},8143:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(326),i=r(381),n=r(8078),a=r(9891);function c({children:e}){return s.jsx(n.FV,{children:(0,s.jsxs)(a.H,{children:[e,s.jsx(i.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}},1216:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6557).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},2714:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7427:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6557).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9015:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6557).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5932:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},127:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(326);r(7577);let i=({size:e="md",className:t=""})=>s.jsx("div",{className:`flex items-center justify-center ${t}`,children:s.jsx("div",{className:`loading-spinner ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[e]}`})})},9891:(e,t,r)=>{"use strict";r.d(t,{H:()=>o,a:()=>l});var s=r(326),i=r(7577),n=r(8078),a=r(381);let c=(0,i.createContext)(),l=()=>{let e=(0,i.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},o=({children:e})=>{let{supabase:t}=(0,n.$4)(),[r,l]=(0,i.useState)(null),[o,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!0),p=(0,i.useRef)(!0),x=(...e)=>{},m=(0,i.useCallback)(async()=>{try{let{data:{session:e},error:r}=await t.auth.getSession();if(r){x("⚠️ getSession error:",r);return}if(!e?.access_token){x("⚠️ No Supabase access token found for fetching clinic data.");return}let s=await fetch("http://localhost:5000/api/auth/profile",{headers:{Authorization:`Bearer ${e.access_token}`}});if(!p.current)return;if(s.ok){let e=await s.json();if(!p.current)return;u(e.clinic)}else{let e=await s.text();if(console.error("❌ Failed to fetch clinic data:",e),!p.current)return;u(null)}}catch(e){if(console.error("\uD83D\uDD25 Error fetching clinic data:",e),!p.current)return;u(null)}},[t]);(0,i.useEffect)(()=>{p.current=!0,h(!0),(async()=>{try{let{data:{session:e},error:r}=await t.auth.getSession();if(r&&x("⚠️ getSession error:",r),!p.current)return;let s=e?.user??null;l(s),s?await m():u(null)}catch(e){console.error("\uD83D\uDD25 Error during session init:",e)}finally{}})();let e=setTimeout(()=>{p.current&&h(!1)},1500),{data:{subscription:r}}=t.auth.onAuthStateChange(async(t,r)=>{if(x("\uD83D\uDD04 Auth state changed:",t),!p.current)return;let s=r?.user??null;switch(l(s),t){case"SIGNED_IN":case"INITIAL_SESSION":case"TOKEN_REFRESHED":case"USER_UPDATED":s&&await m();break;case"SIGNED_OUT":u(null)}h(!1),clearTimeout(e)});return()=>{x("\uD83E\uDDF9 Cleaning up auth listener"),p.current=!1,clearTimeout(e),r?.unsubscribe?.()}},[t,m]);let y=async(e,t,r)=>{try{let s=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,...r})}),i=await s.json();if(s.ok)return a.ZP.success("Registration successful! Please verify your email."),{success:!0,data:i};return a.ZP.error(i.error||"Registration failed"),{success:!1,error:i.error}}catch(e){return console.error("❌ Sign-up error:",e),a.ZP.error("Registration failed. Please try again."),{success:!1,error:e.message}}},f=async(e,r)=>{let{error:s}=await t.auth.signInWithPassword({email:e,password:r});return s?(a.ZP.error(s.message),{success:!1,error:s.message}):(a.ZP.success("Login successful!"),{success:!0})},g=async()=>{let{error:e}=await t.auth.signOut();return e?(a.ZP.error("Logout failed"),console.error("❌ Sign-out error:",e),{success:!1}):(a.ZP.success("Logged out successfully"),{success:!0})};return s.jsx(c.Provider,{value:{user:r,clinic:o,loading:d,signUp:y,signIn:f,signOut:g},children:e})}},8078:(e,t,r)=>{"use strict";r.d(t,{$4:()=>d,FV:()=>h});var s=r(326),i=r(7577),n=r(3815);let a="https://phoumeccawrtsjztxldi.supabase.co",c="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBob3VtZWNjYXdydHNqenR4bGRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNDEyNTcsImV4cCI6MjA3NTkxNzI1N30.xMGO_scepJgrqhF318DZuXQwuVcZR47AMS81wFwcQA0";a&&a.startsWith("https://"),c&&c.split(".").length;let l=a&&c?(0,n.eI)(a,c):null,o={supabase:l},u=(0,i.createContext)(),d=()=>{let e=(0,i.useContext)(u);if(!e)throw Error("useSupabase must be used within a SupabaseProvider");return e},h=({children:e})=>{if(!l){let e=[];a||e.push("NEXT_PUBLIC_SUPABASE_URL"),c||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY");let t=e=>"string"==typeof e?`${e.slice(0,6)}...${e.slice(-4)}`:"";return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-lg w-full bg-red-50 border border-red-200 rounded-md p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Configuration error"}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Missing required environment variables. Update client/.env.local and restart the dev server."}),(0,s.jsxs)("ul",{className:"text-sm text-red-700 list-disc pl-5 space-y-1",children:[!a&&s.jsx("li",{children:"REACT_APP_SUPABASE_URL is missing"}),!c&&s.jsx("li",{children:"REACT_APP_SUPABASE_ANON_KEY is missing"})]}),(0,s.jsxs)("div",{className:"mt-4 text-xs text-red-700",children:[s.jsx("div",{children:"Current values (masked):"}),(0,s.jsxs)("div",{children:["URL: ",a?t(a):"(not set)"]}),(0,s.jsxs)("div",{children:["Anon Key: ",c?t(c):"(not set)"]})]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reload App"})]})})}return s.jsx(u.Provider,{value:o,children:e})}},4752:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>o});var s=r(9510);r(7272);var i=r(8570);let n=(0,i.createProxy)(String.raw`C:\Users\lenovo\Desktop\caresync\client\app\providers.tsx`),{__esModule:a,$$typeof:c}=n;n.default;let l=(0,i.createProxy)(String.raw`C:\Users\lenovo\Desktop\caresync\client\app\providers.tsx#default`),o={title:"CareSync Ai",description:"CareSyncAi - Patient Follow-up Reminder & Insight Assistant"};function u({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:s.jsx(l,{children:e})})})}},7272:()=>{}};