exports.id=131,exports.ids=[131],exports.modules={5360:(e,s,t)=>{Promise.resolve().then(t.bind(t,1858))},8937:(e,s,t)=>{Promise.resolve().then(t.bind(t,8143))},1266:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},1858:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(326),a=t(7577),i=t(9891),l=t(5047),n=t(434),c=t(6557);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var o=t(4061),u=t(6507),h=t(6464),x=t(8916),m=t(8378),y=t(4019),f=t(9635);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,c.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),g=(0,c.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),v=({children:e})=>{let[s,t]=(0,a.useState)(!1),c=(0,l.usePathname)(),{clinic:v,signOut:j}=(0,i.a)(),N=[{name:"Dashboard",href:"/dashboard",icon:d},{name:"Patients",href:"/patients",icon:o.Z},{name:"Reminders",href:"/reminders",icon:u.Z},{name:"AI Insights",href:"/insights",icon:h.Z},{name:"Subscription",href:"/subscription",icon:x.Z},{name:"Settings",href:"/settings",icon:m.Z}],b=e=>c===e,k=async()=>{await j()};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:`fixed inset-0 z-50 lg:hidden ${s?"block":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),(0,r.jsxs)("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white shadow-xl",children:[(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between px-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"CS"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"CareSync AI"})})]}),r.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(y.Z,{className:"h-6 w-6"})})]}),r.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:N.map(e=>{let s=e.icon;return(0,r.jsxs)(n.default,{href:e.href,className:`sidebar-link ${b(e.href)?"sidebar-link-active":"sidebar-link-inactive"}`,onClick:()=>t(!1),children:[r.jsx(s,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})}),r.jsx("div",{className:"border-t border-gray-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center",children:r.jsx(f.Z,{className:"h-5 w-5 text-gray-600"})})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:v?.name}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:v?.subscription_plan})]}),r.jsx("button",{onClick:k,className:"ml-2 text-gray-400 hover:text-gray-600",title:"Sign out",children:r.jsx(p,{className:"h-5 w-5"})})]})})]})]}),r.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,r.jsxs)("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[r.jsx("div",{className:"flex h-16 items-center px-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"CS"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"CareSync AI"})})]})}),r.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:N.map(e=>{let s=e.icon;return(0,r.jsxs)(n.default,{href:e.href,className:`sidebar-link ${b(e.href)?"sidebar-link-active":"sidebar-link-inactive"}`,children:[r.jsx(s,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})}),r.jsx("div",{className:"border-t border-gray-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center",children:r.jsx(f.Z,{className:"h-5 w-5 text-gray-600"})})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:v?.name}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:v?.subscription_plan})]}),r.jsx("button",{onClick:k,className:"ml-2 text-gray-400 hover:text-gray-600",title:"Sign out",children:r.jsx(p,{className:"h-5 w-5"})})]})})]})}),(0,r.jsxs)("div",{className:"lg:pl-64",children:[(0,r.jsxs)("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[r.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>t(!0),children:r.jsx(g,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[r.jsx("div",{className:"flex flex-1"}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[r.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200"}),(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[r.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center",children:r.jsx(f.Z,{className:"h-5 w-5 text-gray-600"})}),(0,r.jsxs)("div",{className:"hidden lg:block",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:v?.name}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:v?.subscription_plan})]})]})]})]})]}),r.jsx("main",{className:"py-6",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})};var j=t(127);function N({children:e}){let{user:s,loading:t}=(0,i.a)();return((0,l.useRouter)(),t)?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(j.Z,{size:"lg"})}):s?r.jsx(v,{children:e}):null}},8143:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});var r=t(326),a=t(381),i=t(8078),l=t(9891);function n({children:e}){return r.jsx(i.FV,{children:(0,r.jsxs)(l.H,{children:[e,r.jsx(a.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}},6464:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(6557).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},6507:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(6557).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},8916:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(6557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},8378:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(6557).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9635:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(6557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(6557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},4019:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5047:(e,s,t)=>{"use strict";var r=t(7389);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},127:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(326);t(7577);let a=({size:e="md",className:s=""})=>r.jsx("div",{className:`flex items-center justify-center ${s}`,children:r.jsx("div",{className:`loading-spinner ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[e]}`})})},9891:(e,s,t)=>{"use strict";t.d(s,{H:()=>d,a:()=>c});var r=t(326),a=t(7577),i=t(8078),l=t(381);let n=(0,a.createContext)(),c=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},d=({children:e})=>{let{supabase:s}=(0,i.$4)(),[t,c]=(0,a.useState)(null),[d,o]=(0,a.useState)(null),[u,h]=(0,a.useState)(!0),x=(0,a.useRef)(!0),m=(...e)=>{},y=(0,a.useCallback)(async()=>{try{let{data:{session:e},error:t}=await s.auth.getSession();if(t){m("⚠️ getSession error:",t);return}if(!e?.access_token){m("⚠️ No Supabase access token found for fetching clinic data.");return}let r=await fetch("http://localhost:5000/api/auth/profile",{headers:{Authorization:`Bearer ${e.access_token}`}});if(!x.current)return;if(r.ok){let e=await r.json();if(!x.current)return;o(e.clinic)}else{let e=await r.text();if(console.error("❌ Failed to fetch clinic data:",e),!x.current)return;o(null)}}catch(e){if(console.error("\uD83D\uDD25 Error fetching clinic data:",e),!x.current)return;o(null)}},[s]);(0,a.useEffect)(()=>{x.current=!0,h(!0),(async()=>{try{let{data:{session:e},error:t}=await s.auth.getSession();if(t&&m("⚠️ getSession error:",t),!x.current)return;let r=e?.user??null;c(r),r?await y():o(null)}catch(e){console.error("\uD83D\uDD25 Error during session init:",e)}finally{}})();let e=setTimeout(()=>{x.current&&h(!1)},1500),{data:{subscription:t}}=s.auth.onAuthStateChange(async(s,t)=>{if(m("\uD83D\uDD04 Auth state changed:",s),!x.current)return;let r=t?.user??null;switch(c(r),s){case"SIGNED_IN":case"INITIAL_SESSION":case"TOKEN_REFRESHED":case"USER_UPDATED":r&&await y();break;case"SIGNED_OUT":o(null)}h(!1),clearTimeout(e)});return()=>{m("\uD83E\uDDF9 Cleaning up auth listener"),x.current=!1,clearTimeout(e),t?.unsubscribe?.()}},[s,y]);let f=async(e,s,t)=>{try{let r=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s,...t})}),a=await r.json();if(r.ok)return l.ZP.success("Registration successful! Please verify your email."),{success:!0,data:a};return l.ZP.error(a.error||"Registration failed"),{success:!1,error:a.error}}catch(e){return console.error("❌ Sign-up error:",e),l.ZP.error("Registration failed. Please try again."),{success:!1,error:e.message}}},p=async(e,t)=>{let{error:r}=await s.auth.signInWithPassword({email:e,password:t});return r?(l.ZP.error(r.message),{success:!1,error:r.message}):(l.ZP.success("Login successful!"),{success:!0})},g=async()=>{let{error:e}=await s.auth.signOut();return e?(l.ZP.error("Logout failed"),console.error("❌ Sign-out error:",e),{success:!1}):(l.ZP.success("Logged out successfully"),{success:!0})};return r.jsx(n.Provider,{value:{user:t,clinic:d,loading:u,signUp:f,signIn:p,signOut:g},children:e})}},8078:(e,s,t)=>{"use strict";t.d(s,{$4:()=>u,FV:()=>h});var r=t(326),a=t(7577),i=t(1812);let l="https://phoumeccawrtsjztxldi.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBob3VtZWNjYXdydHNqenR4bGRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNDEyNTcsImV4cCI6MjA3NTkxNzI1N30.xMGO_scepJgrqhF318DZuXQwuVcZR47AMS81wFwcQA0";l&&l.startsWith("https://"),n&&n.split(".").length;let c=l&&n?(0,i.eI)(l,n):null,d={supabase:c},o=(0,a.createContext)(),u=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useSupabase must be used within a SupabaseProvider");return e},h=({children:e})=>{if(!c){let e=[];l||e.push("NEXT_PUBLIC_SUPABASE_URL"),n||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY");let s=e=>"string"==typeof e?`${e.slice(0,6)}...${e.slice(-4)}`:"";return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-lg w-full bg-red-50 border border-red-200 rounded-md p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Configuration error"}),r.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Missing required environment variables. Update client/.env.local and restart the dev server."}),(0,r.jsxs)("ul",{className:"text-sm text-red-700 list-disc pl-5 space-y-1",children:[!l&&r.jsx("li",{children:"REACT_APP_SUPABASE_URL is missing"}),!n&&r.jsx("li",{children:"REACT_APP_SUPABASE_ANON_KEY is missing"})]}),(0,r.jsxs)("div",{className:"mt-4 text-xs text-red-700",children:[r.jsx("div",{children:"Current values (masked):"}),(0,r.jsxs)("div",{children:["URL: ",l?s(l):"(not set)"]}),(0,r.jsxs)("div",{children:["Anon Key: ",n?s(n):"(not set)"]})]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reload App"})]})})}return r.jsx(o.Provider,{value:d,children:e})}},4896:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var r=t(8570);let a=(0,r.createProxy)(String.raw`C:\Users\lenovo\Desktop\caresync\client\app\(protected)\layout.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let n=(0,r.createProxy)(String.raw`C:\Users\lenovo\Desktop\caresync\client\app\(protected)\layout.tsx#default`)},4752:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o,metadata:()=>d});var r=t(9510);t(7272);var a=t(8570);let i=(0,a.createProxy)(String.raw`C:\Users\lenovo\Desktop\caresync\client\app\providers.tsx`),{__esModule:l,$$typeof:n}=i;i.default;let c=(0,a.createProxy)(String.raw`C:\Users\lenovo\Desktop\caresync\client\app\providers.tsx#default`),d={title:"CareSync Ai",description:"CareSyncAi - Patient Follow-up Reminder & Insight Assistant"};function o({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:r.jsx(c,{children:e})})})}},7272:()=>{}};