(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[321],{5772:function(e,s,t){Promise.resolve().then(t.bind(t,8617))},8617:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var r=t(7437),i=t(2265),n=t(2513),a=t(6600),c=t(7138),l=t(4674),d=t(3648),o=()=>{let{supabase:e}=(0,l.$4)(),[s,t]=(0,i.useState)([]),[o,m]=(0,i.useState)(!0),[u,h]=(0,i.useState)("");return(0,i.useEffect)(()=>{(async()=>{try{let{data:{session:s}}=await e.auth.getSession();if(!(null==s?void 0:s.access_token)){t([]),m(!1);return}let r=await fetch("".concat("http://localhost:5000","/api/reminders"),{headers:{Authorization:"Bearer ".concat(s.access_token)}});if(!r.ok){let e=await r.json().catch(()=>({}));throw Error(e.error||"Failed to fetch reminders")}let i=await r.json();t(i.reminders||[])}catch(e){h(e.message)}finally{m(!1)}})()},[e]),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Reminders"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Schedule and manage patient follow-up reminders"})]}),(0,r.jsxs)(c.default,{href:"/reminders/new",className:"btn-primary flex items-center",children:[(0,r.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),"Schedule Reminder"]})]}),(0,r.jsx)("div",{className:"card",children:o?(0,r.jsx)("div",{className:"py-12 text-center",children:(0,r.jsx)(d.Z,{})}):u?(0,r.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:u}):0===s.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(a.Z,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reminders yet"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Create your first follow-up reminder."}),(0,r.jsx)(c.default,{href:"/reminders/new",className:"btn-primary",children:"Schedule Your First Reminder"})]}):(0,r.jsx)("div",{className:"divide-y",children:s.map(e=>{var s;return(0,r.jsx)("div",{className:"py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:(null===(s=e.patients)||void 0===s?void 0:s.name)||"Patient"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.message})]}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.status})]})},e.id)})})})]})};function m(){return(0,r.jsx)(o,{})}},6600:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(1066).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},2513:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(1066).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3648:function(e,s,t){"use strict";var r=t(7437);t(2265),s.Z=e=>{let{size:s="md",className:t=""}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center ".concat(t),children:(0,r.jsx)("div",{className:"loading-spinner ".concat({sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[s])})})}},4674:function(e,s,t){"use strict";t.d(s,{$4:function(){return m},FV:function(){return u}});var r=t(7437),i=t(2265),n=t(46);let a="https://phoumeccawrtsjztxldi.supabase.co",c="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBob3VtZWNjYXdydHNqenR4bGRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNDEyNTcsImV4cCI6MjA3NTkxNzI1N30.xMGO_scepJgrqhF318DZuXQwuVcZR47AMS81wFwcQA0";a&&a.startsWith("https://"),c&&c.split(".").length;let l=a&&c?(0,n.eI)(a,c):null,d={supabase:l},o=(0,i.createContext)(),m=()=>{let e=(0,i.useContext)(o);if(!e)throw Error("useSupabase must be used within a SupabaseProvider");return e},u=e=>{let{children:s}=e;if(!l){let e=[];a||e.push("NEXT_PUBLIC_SUPABASE_URL"),c||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY");let s=e=>"string"==typeof e?"".concat(e.slice(0,6),"...").concat(e.slice(-4)):"";return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-lg w-full bg-red-50 border border-red-200 rounded-md p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Configuration error"}),(0,r.jsx)("p",{className:"text-sm text-red-700 mb-3",children:"Missing required environment variables. Update client/.env.local and restart the dev server."}),(0,r.jsxs)("ul",{className:"text-sm text-red-700 list-disc pl-5 space-y-1",children:[!a&&(0,r.jsx)("li",{children:"REACT_APP_SUPABASE_URL is missing"}),!c&&(0,r.jsx)("li",{children:"REACT_APP_SUPABASE_ANON_KEY is missing"})]}),(0,r.jsxs)("div",{className:"mt-4 text-xs text-red-700",children:[(0,r.jsx)("div",{children:"Current values (masked):"}),(0,r.jsxs)("div",{children:["URL: ",a?s(a):"(not set)"]}),(0,r.jsxs)("div",{children:["Anon Key: ",c?s(c):"(not set)"]})]}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reload App"})]})})}return(0,r.jsx)(o.Provider,{value:d,children:s})}}},function(e){e.O(0,[46,233,971,23,744],function(){return e(e.s=5772)}),_N_E=e.O()}]);